#!/bin/bash

if [ $# -lt 1 ]; then
	echo "usage: $0 laptop|home|work|duplicate|popup [output]"
	exit 1
fi

mode=${1}
output=${2:-HDMI-1}

case "$mode" in
laptop)
	swaymsg output DP-3 disable
	swaymsg output eDP-2 pos 0 0 res 1920x1080 enable
	;;
home)
	swaymsg output DP-3 pos 1920 0 res 1920x1080 enable
	swaymsg output eDP-2 pos 0 0 res 1920x1080 enable
	swaymsg workspace 1 output eDP-2
	swaymsg workspace 2 output eDP-2
	swaymsg workspace 3 output DP-3
	swaymsg workspace 4 output DP-3
	swaymsg workspace 5 output DP-3
	swaymsg workspace 6 output DP-3
	swaymsg workspace 7 output DP-3
	swaymsg workspace 8 output DP-3
	swaymsg workspace 9 output eDP-2
	swaymsg workspace 10 output eDP-2
	;;
duplicate)
	if [ "${output}" == "all" ]; then
		xrandr --output DP1 --mode 1920x1080
		xrandr --output DP2 --mode 1920x1080
		xrandr --output HDMI1 --mode 1920x1080
		xrandr --output HDMI2 --mode 1920x1080
	else
		xrandr --output "${output}" --mode 1920x1080
	fi
	xrandr --output eDP1 --auto
	;;
popup)
	choice=$(zenity --list --title="Monitor configuration" --column="Monitor configuration list" "laptop" "home" "work" "duplicate" "duplicate all")
	if [ ! -z "${choice}" ]; then
		i3monitor "${choice}"
	fi
	;;
esac
